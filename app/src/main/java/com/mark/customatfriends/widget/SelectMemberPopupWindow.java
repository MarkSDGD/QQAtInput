package com.mark.customatfriends.widget;import android.content.Context;import android.graphics.drawable.ColorDrawable;import android.view.LayoutInflater;import android.view.View;import android.widget.LinearLayout.LayoutParams;import android.widget.ListView;import android.widget.PopupWindow;import androidx.fragment.app.FragmentActivity;import com.mark.customatfriends.R;import com.mark.customatfriends.adapter.MemberAdapter;import com.mark.customatfriends.bean.Member;import com.mark.atlibrary.listener.SelectMemberListener;import java.util.ArrayList;/** * @群成员pop */public class SelectMemberPopupWindow extends PopupWindow {    private View mMenuView;    private ListView mListView;    private SelectMemberListener mSendMemberListener;    private ArrayList<Member> mMembers = new ArrayList<>();    private MemberAdapter memberAdapter;    public SelectMemberPopupWindow(FragmentActivity context, ArrayList<Member> mMembers, SelectMemberListener  sendMemberListener) {        super(context);        this.mMembers = mMembers;        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);        mMenuView = inflater.inflate(R.layout.pop_at_room_member, null);        this.mSendMemberListener = sendMemberListener;        this.setContentView(mMenuView);        this.setWidth(LayoutParams.MATCH_PARENT);        this.setHeight(LayoutParams.MATCH_PARENT);        this.setFocusable(true);        this.setAnimationStyle(android.R.style.Animation_Dialog);        ColorDrawable dw = new ColorDrawable(context.getResources().getColor(R.color.white));        this.setBackgroundDrawable(dw);        initView(context);    }    private void initView(Context context) {        mListView = mMenuView.findViewById(R.id.listview);        memberAdapter = new MemberAdapter(context,mMembers);        mListView.setAdapter(memberAdapter);        mListView.setOnItemClickListener((parent, view, position, id) -> {            mSendMemberListener.onGetSelectMember(mMembers.get(position));            dismiss();        });    }}